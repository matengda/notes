# 常量

常量是固定值，在程序执行期间不会改变。这些固定的值，又叫做**字面量**。

常量可以是任何的基本数据类型，比如整数常量、浮点常量、字符常量，或字符串字面值，也有枚举常量。

**常量**就像是常规的变量，只不过常量的值在定义后不能进行修改



在 C 中，有两种简单的定义常量的方式：

- 使用 **#define** 预处理器

  ```c
  #define a abc
  
  printf("%s", a);
  /*
  这种写法是错误的, 因为define只是单纯的替换
  也就是说只是把字符a替换成字符串abc
  不能打印a是因为未声明的标识符
  */
  ```

  ```c
  #define a 1
  #define b 2
  
  int c = a + b
  printf("%d", c);
  // 3
  ```

  

- 使用 **const** 关键字。

### #define 预处理器

下面是使用 #define 预处理器定义常量的形式：



## 整数常量

整数常量可以是十进制、八进制或十六进制的常量。前缀指定基数：0x 或 0X 表示十六进制，0 表示八进制，不带前缀则默认表示十进制。

整数常量也可以带一个后缀，后缀是 U 和 L 的组合，U 表示无符号整数（unsigned），L 表示长整数（long）。后缀可以是大写，也可以是小写，U 和 L 的顺序任意。

下面列举几个整数常量的实例：

```c
212         /* 合法的 */
215u        /* 合法的 */
0xFeeL      /* 合法的 */
078         /* 非法的：8 不是八进制的数字 */
032UU       /* 非法的：不能重复后缀 */
```

以下是各种类型的整数常量的实例：

```c
85         /* 十进制 */
0213       /* 八进制 */
0x4b       /* 十六进制 */
30         /* 整数 */
30u        /* 无符号整数 */
30l        /* 长整数 */
30ul       /* 无符号长整数 */
```



## 浮点常量

浮点常量由整数部分、小数点、小数部分和指数部分组成。您可以使用小数形式或者指数形式来表示浮点常量。

当使用小数形式表示时，必须包含整数部分、小数部分，或同时包含两者。当使用指数形式表示时， 必须包含小数点、指数，或同时包含两者。带符号的指数是用 e 或 E 引入的。

下面列举几个浮点常量的实例：

```c
3.14159       /* 合法的 */
314159E-5L    /* 合法的 */
510E          /* 非法的：不完整的指数 */
210f          /* 非法的：没有小数或指数 */
.e55          /* 非法的：缺少整数或分数 */
```



## 字符常量

字符常量是括在单引号中，例如，'x' 可以存储在 **char** 类型的简单变量中。

字符常量可以是一个普通的字符（例如 'x'）、一个转义序列（例如 '\t'），或一个通用的字符（例如 '\u02C0'）。

在 C 中，有一些特定的字符，当它们前面有反斜杠时，它们就具有特殊的含义，被用来表示如换行符（\n）或制表符（\t）等



## 字符串常量

字符串字面值或常量是括在双引号 "" 中的。一个字符串包含类似于字符常量的字符：普通的字符、转义序列和通用的字符

您可以使用空格做分隔符，把一个很长的字符串常量进行分行









# 变量







# 数据类型

在 C 语言中，数据类型指的是用于声明不同类型的变量或函数的一个广泛的系统。变量的类型决定了变量存储占用的空间，以及如何解释存储的位模式



## 基本类型

它们是算术类型，包括两种类型：整数类型和浮点类型



### 整数类型

### 浮点数类型





## 枚举类型

它们也是算术类型，被用来定义在程序中只能赋予其一定的离散整数值的变量



## void 类型

类型说明符 *void* 表明没有可用的值



## 派生类型

它们包括：指针类型、数组类型、结构类型、共用体类型和函数类型















# 存储单位

位 bit (比特)(Binary Digits):存放一位二进制数，即 0 或 1，最小的存储单位

单位的换算都是1024

|    单位    |    缩写     |
| :--------: | :---------: |
|    bit     | b, 位, 比特 |
|    Byte    |   B, 字节   |
| Kilo Byte  | KB, 千字节  |
| Mega Byte  |     MB      |
| Giga Byte  |     GB      |
| Tera Byte  |     TB      |
| Peta Byte  |     PB      |
|  Exa Byte  |     EB      |
| Zetta Byte |     ZB      |
| Yotta Byte |     YB      |







# 寄存器

寄存器是CPU内部用来存放数据的一些小型存储区域，用来暂时存放参与运算的数据和运算结果以及一些CPU运行需要的信息



> 寄存器就是CPU直接拿他里面寄存的东西直接来进行计算操作的，它就是CPU的一部分。寄存器是有限存贮容量的高速存贮部件，它们可用来暂存指令、数据和位址。在中央处理器的控制部件中，包含的寄存器有指令寄存器(IR)和程序计数器(PC)。在中央处理器的算术及逻辑部件中，包含的寄存器有累加器(ACC)

- 按与CPU远近来分, 离得最近的是寄存器, 然后缓存, 最后是内存
- cpu只和寄存器进行读写
- 寄存器是一个存放数据的空间
- cpu访问寄存器的速度快于访问内存的速度
- 寄存器是cpu和内存沟通的桥梁
- 寄存器是cpu的一部分
- 寄存器包含1级缓存, 2级缓存, 3级缓存(将来可能会有更多级别的缓存)
- 寄存器数据来源于内存, cpu <--> 寄存器 <<--> 内存(cpu只和寄存器读写)



# 缓存

> 缓存就是为了避免数据的多次从一个地方拿到另一个地方，从而在中间通过其中的一个划分一块区域作为临时存放数据地址，以便下次取用方便的说法。比如：寄存器拿出临时寄存的地方，它是位于寄存器和内存之间，相当于一个中间枢纽。但是他的位置就是在寄存器之中，只是把寄存器划分出来一个文件交换区，用来存在最常使用的一些数据。在比如内存从硬盘拿出一些东西放到内存的某块区域，把内存这块区域也叫做缓存，大家一定一定记得不要理解成缓存就是某一个啥东西，它只是说明了数据中转的一种方式而已。而一部分人说的缓存说的是高速缓存，那个是两个不同的概念，这个高速缓存其实是CPU里面的一部分，它集成于CPU中，大家理解就是运行速度更快的一种内存，CPU每次直接拿来操作，不会经过内存和寄存器的过程，现在说的都是L1 cache一级缓存，之前早起的L2 cache焊接在主板上。

- 为了避免总是读写内存中的同一地址, 影响速度, 就在寄存器与内存之间设置了缓存机制

- 从缓存读取的速度要远远高于内存

- 缓存就是把内存提取的数据暂时存放在里面

- 寄存器不是每次数据都从缓存中读取, 如果不是同一内存地址, 那寄存器只能绕过缓存从内存中读取

- 能不能直接从缓存中读取数据叫做缓存命中率, 哪些数据应该在缓存中, 哪些不在缓存中, 由算法决定

- 1级缓存速度明显高于2级缓存, 以此类推, 有多级缓存是为了经济考虑

    cpu <--> 寄存器 << --> 缓存 <--> 内存(cpu只和寄存器读写)





# 内联汇编

> C 语言标准, 提供的函数声明的关键字 `inline` 使我们可以要求编译器将一个函数的代码直接插入到函数被实际调用的地方。 这样的函数被称作**内联函数Inline Function**（又称**在线函数**或**编译时期展开函数**），类似于 **宏(macro)**， 不同之处在于内联函数是在编译期完成，而宏是在预处理阶段直接修改。

> 内联汇编是将一些 **汇编语言Assembly Language** 的指令以内联函数的形式写入 C 语言代码中， 并且可以通过 C 语言的变量输入/输出，实现了汇编语言和 C 语言语言的联合编程。 为了使用内联汇编，GCC 和 Clang均提供了 `asm` 关键词

```c
#include <stdio.h>
#include <stdlib.h> // 引入此头文件是为了使用 system() 函数

void a()
{
    int a, b, c;
    __asm // viaual studio
    {
        // 一下是 intel 写法
        mov a, 1 // 把整形常量 1 放到 a 变量里
        mov b, 2 // 把整形常量2 放到 b 对应的内存位置
        mov eax, a // 把内存地址里的值 a 放到 eax 寄存器里
        add eax, b // eax 和 b 相加然后结果放到 eax
        mov c, eax // 把 eax 寄存器的值放到 c 里
    }
    
    printf("%d\n", c); // 以 整数 的形式打印 c 变量
}

int
main(void)
{
    a();
    system("pause"); // 暂停一下
    return 0;
}
```





# 关键字

**这是 C 中保留的关键字列表。因为语言使用这些关键字，故不可重定义它们**

|           [auto](#auto)            |         [break](#break)          |               [case](#case)                |              [char](#char)               |
| :--------------------------------: | :------------------------------: | :----------------------------------------: | :--------------------------------------: |
|        **[const](#const)**         |    **[continue](#continue)**     |          **[default](#default)**           |               **[do](do)**               |
|       **[double](#double)**        |        **[else](#else)**         |             **[enum](#enum)**              |          **[extern](#extern)**           |
|        **[float](#float)**         |         **[for](#for)**          |             **[goto](#goto)**              |              **[if](#if)**               |
|     **[inline](#inline)(c99)**     |         **[int](#int)**          |             **[long](#long)**              |        **[register](#register)**         |
|   **[restrict](#restrict)(c99)**   |      **[ return](#return)**      |            **[short](#short)**             |          **[signed](#signed)**           |
|       **[sizeof](#sizeof)**        |      **[static](#static)**       |           **[struct](#struct)**            |          **[switch](#switch)**           |
|      **[typedef](#typedef)**       |       **[union](#union)**        |         **[unsigned](#unsigned)**          |            **[void](#void)**             |
|     **[volatile](#volatile)**      |       **[while](#while)**        |       **[_Alignas](#_Alignas)(c11)**       |      **[_Alignof](#_Alignof)(c11)**      |
|   **[__Atomic](#_Atomic)(c11)**    |     **[_Bool](#_Bool)(c99)**     |       **[_Complex](#_Complex)(c99)**       |      **[_Generic](#_Generic)(c11)**      |
| **[_Imaginary](#_Imaginary)(c99)** | **[_Noreturn](#_Noreturn)(c11)** | **[_Static_assert](#_Static_assert)(c11)** | **[_Thread_local](#_Thread_local)(c11)** |

以下划线开头的关键字通常通过其便利宏来使用

| 关键字                                     | 用作              | 定义于            |
| ------------------------------------------ | ----------------- | ----------------- |
| **_Alignas(c11)**             | **alignas**       | **stdalign.h**    |
| **_Alignof(c11)**             | **alignof**       | **stdalign.h**    |
| **_Atomic(c11)**               | **...**           | **stdatomic.h**   |
| **_Bool(c99)**                   | **bool**          | **stdbool.h**     |
| **_Complex(c11)**             | **complex**       | **complex.h**     |
| **_Generic(c11)**             | **无宏**          |                   |
| **_Imaginary(c99)**         | **imaginary**     | **complex.h**     |
| **_Noreturn(c11)**           | **noreturn**      | **stdnoreturn.h** |
| **_Static_assert(c11)** | **static_assert** | **assert.h**      |
| **_Thread_local(c11)**   | **thread_local**  | **threads.h**     |

**每个以双下划线或单下划线跟随大写字母为首的名称是受保留的**

以下记号在用于预处理器指令语境的时候, 为预处理器所识别

| **if**      | **elif**          | **else**  |
| ----------- | ----------------- | --------- |
| **endif**   | **defined**       | **ifdef** |
| **ifndef**  | **define**        | **undef** |
| **include** | **line**          | **error** |
| **pragram** | **_Pragram(c99)** |           |

以下为编译器额外的扩展, 且为条件性支持

- **`asm`**
- **`fortran`**









# 标准库头文件

| **assert.h**            | **条件编译宏，将参数与零比较**                       |
| ----------------------- | ---------------------------------------------------- |
| **complex.h(c99)**      | **复数运算**                                         |
| **ctype.h**             | **用来确定包含于字符数据中的类型的函数**             |
| **errno.h**             | **报告错误条件的宏**                                 |
| **fenv.h(c99)**         | **浮点数环境**                                       |
| **float.h**             | **浮点数类型的极限**                                 |
| **inttypes.h(c99)**     | **整数类型格式转换**                                 |
| **iso646.h(c95)**       | **符号的替代写法**                                   |
| **limits.h**            | **基本类型的大小**                                   |
| **locale.h**            | **本地化工具**                                       |
| **math.h**              | **常用的数学函数**                                   |
| **setjmp.h**            | **非局部跳转**                                       |
| **signal.h**            | **信号处理**                                         |
| **stdalign.h(c11)**     | **alignas 与 alignof 便利宏**                        |
| **stdarg.h**            | **可变参数**                                         |
| **stdatomic.h(c11)**    | **原子类型**                                         |
| **stdbool.h(c99)**      | **布尔类型**                                         |
| **stddef.h**            | **常用宏定义**                                       |
| **stdint.h(c99)**       | **定宽整数类型**                                     |
| **[stdio.h](#stdio.h)** | **输入/输出**                                        |
| **stdlib.h**            | **基础工具: 内存管理, 程序工具, 字符串转换, 随机数** |
| **stdnoreturn.h(c11)**  | **noreturn 便利宏**                                  |
| **string.h**            | **字符串处理**                                       |
| **tgmath.h(c99)**       | **泛型数学, 包装 math.h 和 complex.h 的宏**          |
| **threads.h(c11)**      | **线程库**                                           |
| **time.h**              | **时间/日期工具**                                    |
| **uchar.h(c11)**        | **utf-16 和 utf-32 字符工具**                        |
| **wchar.h(c95)**        | **扩展多字体和宽字符工具**                           |
| **wctype.h(c95)**       | **用来确定包含与宽字符数据中的类型的函数**           |



## stdio.h

 **stdio .h** 头文件定义了三个变量类型、一些宏和各种函数来执行输入和输出

- **size_t**
  这是无符号整数类型，它是 **sizeof** 关键字的结果。

- **FILE**

  这是一个适合存储文件流信息的对象类型。

- **fpos_t**

  这是一个适合存储文件中任何位置的对象类型。



### 库宏








### printf()

| 说明符（specifier） | 对应数据类型 | 描述                                                    |
| --------------------- | ---------------- | ------------------------------------------------------------ |
| d / i                 | int              | 输出类型为有符号的十进制整数，i 是老式写法                   |
| o                     | unsigned int     | 输出类型为无符号八进制整数（没有前导 0）                     |
| u                     | unsigned int     | 输出类型为无符号十进制整数                                   |
| x / X                 | unsigned int     | 输出类型为无符号十六进制整数，x 对应的是 abcdef，X 对应的是 ABCDEF（没有前导 0x 或者 0X） |
| f / lf                | double           | 输出类型为十进制表示的浮点数，默认精度为6（lf 在 C99 开始加入标准，意思和 f 相同） |
| e / E                 | double           | 输出类型为科学计数法表示的数，此处 "e" 的大小写代表在输出时用的 “e” 的大小写，默认浮点数精度为6 |
| g                     | double           | 根据数值不同自动选择 %f 或 %e，%e 格式在指数小于-4或指数大于等于精度时用使用 [1] |
| G                     | double           | 根据数值不同自动选择 %f 或 %E，%E 格式在指数小于-4或指数大于等于精度时用使用 |
| c                     | char             | 输出类型为字符型。可以把输入的数字按照ASCII码相应转换为对应的字符 |
| s                     | char *           | 输出类型为字符串。输出字符串中的字符直至遇到字符串中的空字符（字符串以 '\0‘ 结尾，这个 '\0' 即空字符）或者已打印了由精度指定的字符数 |
| p                     | void *           | 以16进制形式输出指针                                         |
| %                     | 不转换参数       | 不进行转换，输出字符‘%’（百分号）本身                        |
| n                     | int *            | 到此字符之前为止，一共输出的字符个数，不输出文本 [4]         |



#### 转义符

| 转义字符 | 意义                               | ASCII码值（十进制） |
| -------- | ---------------------------------- | ------------------- |
| \a       | 响铃(BEL)                          | 007                 |
| \b       | 退格(BS)，将当前位置移到前一列     | 008                 |
| \f       | 换页(FF)，将当前位置移到下页开头   | 012                 |
| \n       | 换行(LF)，将当前位置移到下一行开头 | 010                 |
| \r       | 回车(CR)，将当前位置移到本行开头   | 013                 |
| \t       | 水平制表(HT)（跳到下一个TAB位置）  | 009                 |
| \v       | 垂直制表(VT)                       | 011                 |
| \\       | 代表一个反斜线字符''\'             | 092                 |
| \'       | 代表一个单引号（撇号）字符         | 039                 |
| \"       | 代表一个双引号字符                 | 034                 |
| \?       | 代表一个问号                       | 063                 |
| \0       | 空字符(NUL)                        | 000                 |
| \ddd     | 1到3位八进制数所代表的任意字符     | 三位八进制          |
| \xhh     | 十六进制所代表的任意字符           | 十六进制            |



#### vt100

|   \033[0m**   |      **关闭所有属性**      |
| :-----------: | :------------------------: |
|  **\033[0m**  |      **关闭所有属性**      |
|  **\033[1m**  |       **设置为高亮**       |
|  **\033[4m**  |         **下划线**         |
|  **\033[5m**  |          **闪烁**          |
|  **\033[7m**  |          **反显**          |
|  **\033[8m**  |          **消隐**          |
|  **\033[nA**  |     **光标上移 n 行**      |
|  **\033[nB**  |     **光标下移 n 行**      |
|  **\033[nC**  |     **光标右移 n 行**      |
|  **\033[nD**  |     **光标左移 n 行**      |
| **\033[y;xH** |      **设置光标位置**      |
|  **\033[2J**  |          **清屏**          |
|  **\033[K**   | **清除从光标到行尾的内容** |
|  **\033[s**   |      **保存光标位置**      |
|  **\033[u**   |      **恢复光标位置**      |
| **\033[?25l** |        **隐藏光标**        |
| **\033[?25h** |        **显示光标**        |

|  **色彩**  | **黑** | **红** | **绿** | **黄** | **蓝** | **洋红** | **青** | **白** |
| :--------: | :----: | :----: | :----: | :----: | :----: | :------: | :----: | :----: |
| **前景色** | **30** | **31** | **32** | **33** | **34** |  **35**  | **36** | **37** |
| **背景色** | **40** | **41** | **42** | **43** | **44** |  **45**  | **46** | **47** |



```c
#include <stdio.h>

int
main(void){
    printf("\033[32;45mabc\033[0m");
}
```









# 标准库

- [freebsd](https://svnweb.freebsd.org/base/head/lib/libc/)
- [openbsd](http://cvsweb.openbsd.org/cgi-bin/cvsweb/src/lib/libc/)
- [netbsd](http://cvsweb.netbsd.org/bsdweb.cgi/src/lib/libc/)
- [glibc](https://sourceware.org/git/?p=glibc.git;a=tree)
- [ulibc](https://git.uclibc.org/uClibc/tree/libc)





# edu

https://www.runoob.com/cprogramming/c-tutorial.html



http://c.biancheng.net/c/





# hello world

```c
#include <stdio.h> // 包含标准输入输出头文件

int // 表示函数的返回类型是int, 
main(int argc, char *argv[]) // 括号里面的是函数的形参, 是外部数据传入函数内部的桥梁
/*
    一个c程序总是从main()函数开始执行的
    从main()函数开始, 到main()函数结束指的是程序的执行时间
*/
{ // 大括号内的是函数主体
    printf("hello world\n");
    return 0;
    // 返回0表示正常退出此函数
}
```